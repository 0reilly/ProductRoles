{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect}from'react';import{useHistory,useParams}from\"react-router-dom\";//import RestaurantFinder from \"../apis/RestaurantFinder\"\nimport{RestaurantsContext}from'../context/RestaurantsContext';var JobListDetail=function JobListDetail(props){var _useContext=useContext(RestaurantsContext),restaurants=_useContext.restaurants,setRestaurants=_useContext.setRestaurants;var _useParams=useParams(),id=_useParams.id;var history=useHistory();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return RestaurantFinder.get(\"/\");case 3:response=_context.sent;setRestaurants(response.data.data.restaurants);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleApplyRedirect=function handleApplyRedirect(e,id){e.stopPropagation();window.location.href='https://jobs.chipotle.com/';};var handleRestaurantSelect=function handleRestaurantSelect(id){history.push(\"\");};return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Today's Product Jobs\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover table-dark\"},/*#__PURE__*/React.createElement(\"tbody\",null,restaurants&&restaurants.map(function(restaurant){if(restaurant.id===id){return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4s\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"p-4\",onClick:function onClick(){return handleRestaurantSelect(restaurant.id);},key:restaurant.id},/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},restaurant.name),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},restaurant.location),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},\"Primary Tag\"),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,restaurant.id);},className:\"btn btn-danger\"},\"Apply\")))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"p-5\"},/*#__PURE__*/React.createElement(\"p\",null,restaurant.description))));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4s\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"p-4\",onClick:function onClick(){return handleRestaurantSelect(restaurant.id);},key:restaurant.id},/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},restaurant.name),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},restaurant.location),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},\"Primary Tag\"),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,restaurant.id);},className:\"btn btn-danger\"},\"Apply\")))));}}))));};export default JobListDetail;","map":{"version":3,"sources":["/Users/adamoreilly/Desktop/SP2020/yelp/client/src/components/JobListDetail.jsx"],"names":["React","useContext","useEffect","useHistory","useParams","RestaurantsContext","JobListDetail","props","restaurants","setRestaurants","id","history","fetchData","RestaurantFinder","get","response","data","handleApplyRedirect","e","stopPropagation","window","location","href","handleRestaurantSelect","push","map","restaurant","name","description"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect} from 'react'\nimport { useHistory ,useParams} from \"react-router-dom\"\n//import RestaurantFinder from \"../apis/RestaurantFinder\"\nimport { RestaurantsContext } from '../context/RestaurantsContext'\n\nconst JobListDetail = (props) => {\n    const {restaurants, setRestaurants} = useContext(RestaurantsContext)\n    const {id} = useParams();\n    let history = useHistory()\n    useEffect( () => {\n        const fetchData = async () => {\n            try {\n                const response = await RestaurantFinder.get(\"/\");\n                setRestaurants(response.data.data.restaurants)\n             } catch(err){\n     \n             }\n        }\n        fetchData();\n    },[])\n\n    \n\n    const handleApplyRedirect = (e, id) => {\n        e.stopPropagation()\n        window.location.href = 'https://jobs.chipotle.com/'; \n    };\n\n    const handleRestaurantSelect = (id) => {\n        history.push(``)\n    };\n\n    return (\n        <div className=\"list-group\">\n            <h2>Today's Product Jobs</h2>\n            <table className=\"table table-hover table-dark\"> \n                <tbody>\n                    {restaurants && restaurants.map(restaurant => {\n                        if(restaurant.id === id){\n                            return(\n                                <div className=\"\">\n                                    <div className=\"p-4s\"><tr className=\"p-4\"onClick={() => handleRestaurantSelect(restaurant.id)} key={restaurant.id}>\n                                        <td className=\"pl-5 pr-5\">{restaurant.name}</td>\n                                        <td className=\"pl-5 pr-5\">{restaurant.location}</td>\n                                        <td className=\"pl-5 pr-5\">Primary Tag</td>\n                                        <td className=\"pl-5 pr-5\"><button onClick={(e) => handleApplyRedirect(e,restaurant.id)} className=\"btn btn-danger\">Apply</button></td>\n                                    </tr></div>\n                                    \n                                    <tr>\n                                        <div className=\"p-5\"><p>{restaurant.description}</p></div>\n                                        \n                                    </tr> \n                                </div>\n                                \n                            );\n                        }\n                        else{\n                            return(\n                                <div className=\"\">\n                                    <div className=\"p-4s\">\n                                        <tr className=\"p-4\"onClick={() => handleRestaurantSelect(restaurant.id)} key={restaurant.id}>\n                                            <td className=\"pl-5 pr-5\">{restaurant.name}</td>\n                                            <td className=\"pl-5 pr-5\">{restaurant.location}</td>\n                                            <td className=\"pl-5 pr-5\">Primary Tag</td>\n                                            <td className=\"pl-5 pr-5\"><button onClick={(e) => handleApplyRedirect(e,restaurant.id)} className=\"btn btn-danger\">Apply</button></td>\n                                        </tr>\n                                    </div>\n                                    \n                                    \n                                </div>\n                                \n                            );\n                        }\n                        \n                        \n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default JobListDetail\n"]},"metadata":{},"sourceType":"module"}