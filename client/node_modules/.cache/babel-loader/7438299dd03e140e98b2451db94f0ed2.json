{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adamoreilly/projects/productroles/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adamoreilly/projects/productroles/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect}from'react';import{useHistory,useParams}from\"react-router-dom\";import ReactDOM from\"react-dom\";import JobFinder from\"../apis/JobFinder\";import{JobsContext}from'../context/JobContext';import MDEditor from'@uiw/react-md-editor';var JobListDetail=function JobListDetail(props){var _useContext=useContext(JobsContext),jobs=_useContext.jobs,setJobs=_useContext.setJobs;var _useParams=useParams(),id=_useParams.id;var history=useHistory();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return JobFinder.get(\"/\");case 3:response=_context.sent;setJobs(response.data.data.jobs);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleApplyRedirect=function handleApplyRedirect(e,id,link){e.stopPropagation();window.location.assign(link);};var handleJobSelect=function handleJobSelect(id){history.push('');};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"list-group mt-3 \"},/*#__PURE__*/React.createElement(\"h5\",{className:\"ml-2\"},\"Today's Product Jobs\"),/*#__PURE__*/React.createElement(\"p\",{className:\"ml-2\"},\"(click each row to view job description)\")),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-condensed \"},/*#__PURE__*/React.createElement(\"tbody\",null,jobs&&jobs.sort(function(a,b){return a.id<b.id?1:-1;}).map(function(job){if(job.id===id){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",{className:job.color==='#fff9c9'?\"highlight\":\"none\",onClick:function onClick(){return handleJobSelect(job.id);},key:job.id},/*#__PURE__*/React.createElement(\"td\",null,job.name),/*#__PURE__*/React.createElement(\"td\",null,job.location),/*#__PURE__*/React.createElement(\"td\",null,job.primary_tag),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,job.id,job.link);},className:\"btn btn-primary btn-sm\"},\"Apply\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"container\",colspan:\"999\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center pl-3 pr-3\"},/*#__PURE__*/React.createElement(MDEditor.Markdown,{className:\"\",source:job.description}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,job.id,job.link);},className:\"mt-2 btn btn-primary\"},\"Apply for this position\")))));}else{return/*#__PURE__*/React.createElement(\"tr\",{className:job.color==='#fff9c9'?\"highlight\":\"none\",onClick:function onClick(){return handleJobSelect(job.id);},key:job.id},/*#__PURE__*/React.createElement(\"td\",null,job.name),/*#__PURE__*/React.createElement(\"td\",null,job.location),/*#__PURE__*/React.createElement(\"td\",null,job.primary_tag),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,job.id,job.link);},className:\"btn btn-primary btn-sm\"},\"Apply\")));}}))));};export default JobListDetail;","map":{"version":3,"sources":["/Users/adamoreilly/projects/productroles/client/src/components/JobListDetail.jsx"],"names":["React","useContext","useEffect","useHistory","useParams","ReactDOM","JobFinder","JobsContext","MDEditor","JobListDetail","props","jobs","setJobs","id","history","fetchData","get","response","data","console","log","handleApplyRedirect","e","link","stopPropagation","window","location","assign","handleJobSelect","push","sort","a","b","map","job","color","name","primary_tag","description"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect} from 'react'\nimport {useHistory, useParams} from \"react-router-dom\"\nimport ReactDOM from \"react-dom\";\nimport JobFinder from \"../apis/JobFinder\"\nimport {JobsContext} from '../context/JobContext'\nimport MDEditor from '@uiw/react-md-editor';\n\nconst JobListDetail = (props) => {\n    const {jobs, setJobs} = useContext(JobsContext)\n    const {id} = useParams();\n    let history = useHistory()\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await JobFinder.get(\"/\");\n                setJobs(response.data.data.jobs)\n            } catch (err) {\n                console.log(err);\n            }\n        }\n        fetchData();\n    }, [])\n\n\n    const handleApplyRedirect = (e, id, link) => {\n        e.stopPropagation()\n        window.location.assign(link);\n    };\n\n    const handleJobSelect = (id) => {\n        history.push('')\n    };\n\n    return (\n        <>\n            <div className=\"list-group mt-3 \">\n                <h5 className=\"ml-2\">Today's Product Jobs</h5>\n                <p className=\"ml-2\">(click each row to view job description)</p>\n            </div>\n            <table className=\"table table-condensed \">\n                <tbody>\n                {jobs && jobs.sort((a, b) => a.id < b.id ? 1 : -1).map(job => {\n                    if (job.id === id) {\n                        return (\n                            <>\n                                <tr\n                                    className={job.color === '#fff9c9' ? \"highlight\" : \"none\"}\n                                    onClick={() => handleJobSelect(job.id)}\n                                    key={job.id}\n                                >\n                                    <td>{job.name}</td>\n                                    <td>{job.location}</td>\n                                    <td>{job.primary_tag}</td>\n                                    <td>\n                                        <button\n                                            onClick={(e) => handleApplyRedirect(e, job.id, job.link)}\n                                            className=\"btn btn-primary btn-sm\"\n                                        >Apply\n                                        </button>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td className=\"container\" colspan=\"999\">\n                                        <div className=\"row justify-content-center pl-3 pr-3\">\n                                            <MDEditor.Markdown className=\"\" source={job.description} />\n                                            <button\n                                                onClick={(e) => handleApplyRedirect(e, job.id, job.link)}\n                                                className=\"mt-2 btn btn-primary\"\n                                            >Apply for this position\n                                            </button>\n                                        </div>\n                                    </td>\n                                </tr>\n                            </>\n                        );\n                    } else {\n                        return (\n                            <tr\n                                className={job.color === '#fff9c9' ? \"highlight\" : \"none\"}\n                                onClick={() => handleJobSelect(job.id)}\n                                key={job.id}\n                            >\n                                <td>{job.name}</td>\n                                <td>{job.location}</td>\n                                <td>{job.primary_tag}</td>\n                                <td>\n                                    <button\n                                        onClick={(e) => handleApplyRedirect(e, job.id, job.link)}\n                                        className=\"btn btn-primary btn-sm\"\n                                    >Apply\n                                    </button>\n                                </td>\n                            </tr>\n                        );\n                    }\n                })}\n                </tbody>\n            </table>\n        </>\n    )\n}\n\nexport default JobListDetail\n"]},"metadata":{},"sourceType":"module"}