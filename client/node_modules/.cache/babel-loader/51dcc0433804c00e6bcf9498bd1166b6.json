{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect}from'react';import{useHistory,useParams}from\"react-router-dom\";import ReactDOM from\"react-dom\";import JobFinder from\"../apis/JobFinder\";import{JobsContext}from'../context/JobContext';import MDEditor from'@uiw/react-md-editor';var JobListDetail=function JobListDetail(props){var _useContext=useContext(JobsContext),jobs=_useContext.jobs,setJobs=_useContext.setJobs;var _useParams=useParams(),id=_useParams.id;var history=useHistory();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return JobFinder.get(\"/\");case 3:response=_context.sent;setJobs(response.data.data.jobs);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleApplyRedirect=function handleApplyRedirect(e,id,link){e.stopPropagation();window.location.assign(link);};var handleJobSelect=function handleJobSelect(id){history.push(\"\");};return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Today's Product Jobs\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover\"},/*#__PURE__*/React.createElement(\"tbody\",null,jobs&&jobs.map(function(job){if(job.id===id){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",{bgcolor:job.color,className:\"p-4\",onClick:function onClick(){return handleJobSelect(job.id);},key:job.id},/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.name),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.location),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.primary_tag),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,job.id,job.link);},className:\"btn btn-primary\"},\"Apply\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colspan:\"999\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(MDEditor.Markdown,{className:\"p-3\",source:job.description}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,job.id,job.link);},className:\" btn btn-primary w-50 float\"},\"Apply for this position\")))));}else{return/*#__PURE__*/React.createElement(\"tr\",{bgcolor:job.color,className:\"p-4\",onClick:function onClick(){return handleJobSelect(job.id);},key:job.id},/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.name),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.location),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.primary_tag),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,job.id,job.link);},className:\"btn btn-primary\"},\"Apply\")));}}))));};export default JobListDetail;","map":{"version":3,"sources":["/Users/adamoreilly/Desktop/SP2020/yelp/client/src/components/JobListDetail.jsx"],"names":["React","useContext","useEffect","useHistory","useParams","ReactDOM","JobFinder","JobsContext","MDEditor","JobListDetail","props","jobs","setJobs","id","history","fetchData","get","response","data","handleApplyRedirect","e","link","stopPropagation","window","location","assign","handleJobSelect","push","map","job","color","name","primary_tag","description"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect} from 'react'\nimport { useHistory ,useParams} from \"react-router-dom\"\nimport ReactDOM from \"react-dom\";\nimport JobFinder from \"../apis/JobFinder\"\nimport { JobsContext } from '../context/JobContext'\nimport MDEditor from '@uiw/react-md-editor';\n\nconst JobListDetail = (props) => {\n    const {jobs, setJobs} = useContext(JobsContext)\n    const {id} = useParams();\n    let history = useHistory()\n    useEffect( () => {\n        const fetchData = async () => {\n            try {\n                const response = await JobFinder.get(\"/\");\n                setJobs(response.data.data.jobs)\n             } catch(err){\n     \n             }\n        }\n        fetchData();\n    },[])\n\n    \n\n    const handleApplyRedirect = (e, id, link) => {\n        e.stopPropagation()\n        window.location.assign(link);\n    };\n\n    const handleJobSelect = (id) => {\n        history.push(``)\n    };\n\n    return (\n        <div className=\"list-group\">\n            <h2>Today's Product Jobs</h2>\n            <table className=\"table table-hover\"> \n                <tbody>\n                    {jobs && jobs.map(job => {\n                        if(job.id === id){\n                            return(\n                                <>\n                               <tr bgcolor={job.color} className=\"p-4\"onClick={() => handleJobSelect(job.id)} key={job.id}>\n                                        <td className=\"pl-5 pr-5\">{job.name}</td>\n                                        <td className=\"pl-5 pr-5\">{job.location}</td>\n                                        <td className=\"pl-5 pr-5\">{job.primary_tag}</td>\n                                        <td className=\"pl-5 pr-5\"><button onClick={(e) => handleApplyRedirect(e,job.id,job.link)} className=\"btn btn-primary\">Apply</button></td>\n                                    </tr>\n                            \n                                <tr>\n                                    <td colspan=\"999\">\n                                        <div className=\"row justify-content-center\"><MDEditor.Markdown className=\"p-3\" source={job.description}/>  \n                                      <button onClick={(e) => handleApplyRedirect(e,job.id, job.link)} className=\" btn btn-primary w-50 float\">Apply for this position</button></div>\n                                        \n                                     \n                                    \n                                    </td>\n\n                                </tr>\n                                </>\n                            );\n                        }\n                        else{\n                            return(\n                                <tr bgcolor={job.color} className=\"p-4\"onClick={() => handleJobSelect(job.id)} key={job.id}>\n                                        <td className=\"pl-5 pr-5\">{job.name}</td>\n                                        <td className=\"pl-5 pr-5\">{job.location}</td>\n                                        <td className=\"pl-5 pr-5\">{job.primary_tag}</td>\n                                        <td className=\"pl-5 pr-5\"><button onClick={(e) => handleApplyRedirect(e,job.id,job.link)} className=\"btn btn-primary\">Apply</button></td>\n                                    </tr>\n                                \n                            );\n                        }\n                        \n                        \n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default JobListDetail\n"]},"metadata":{},"sourceType":"module"}