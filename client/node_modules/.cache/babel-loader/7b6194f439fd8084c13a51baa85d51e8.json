{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect,useState}from'react';import{useHistory}from\"react-router-dom\";import JobFinder from\"../apis/JobFinder\";import{JobsContext}from'../context/JobContext';import\"./App.css\";var JobList=function JobList(props){var _useContext=useContext(JobsContext),jobs=_useContext.jobs,setJobs=_useContext.setJobs;var history=useHistory();useEffect(function(){//window.scrollTo(0, 0)\nconsole.log(process.env.NODE_ENV);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return JobFinder.get(\"/\");case 3:response=_context.sent;setJobs(response.data.data.jobs);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleApplyRedirect=function handleApplyRedirect(e,id,link){e.stopPropagation();window.location.assign(link);};var handleJobSelect=function handleJobSelect(id){history.push(\"/jobs/\".concat(id));};return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\"},/*#__PURE__*/React.createElement(\"h2\",{class:\"col-4\"},\"Today's Product Jobs\"),/*#__PURE__*/React.createElement(\"p\",{class:\"col-4\"},\"(click each row to view job description)\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,jobs&&jobs.sort(function(a,b){return a.id<b.id?1:-1;}).map(function(job){return/*#__PURE__*/React.createElement(\"tr\",{bgcolor:job.color,className:\"p-4\",onClick:function onClick(){return handleJobSelect(job.id);},key:job.id},/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.name),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.location),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},job.primary_tag),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,job.id,job.link);},className:\"btn btn-primary\"},\"Apply\")));}))));};export default JobList;","map":{"version":3,"sources":["/Users/adamoreilly/Desktop/SP2020/yelp/client/src/components/JobList.jsx"],"names":["React","useContext","useEffect","useState","useHistory","JobFinder","JobsContext","JobList","props","jobs","setJobs","history","console","log","process","env","NODE_ENV","fetchData","get","response","data","handleApplyRedirect","e","id","link","stopPropagation","window","location","assign","handleJobSelect","push","sort","a","b","map","job","color","name","primary_tag"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,SAA3B,CAAsCC,QAAtC,KAAqD,OAArD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,OAASC,WAAT,KAA4B,uBAA5B,CACA,MAAO,WAAP,CAGA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,iBAECP,UAAU,CAACK,WAAD,CAFX,CAEhBG,IAFgB,aAEhBA,IAFgB,CAEVC,OAFU,aAEVA,OAFU,CAGvB,GAAIC,CAAAA,OAAO,CAAGP,UAAU,EAAxB,CAEAF,SAAS,CAAE,UAAM,CAChB;AACAU,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,QAAxB,EACG,GAAMC,CAAAA,SAAS,0FAAG,sLAGaZ,CAAAA,SAAS,CAACa,GAAV,CAAc,GAAd,CAHb,QAGJC,QAHI,eAIVT,OAAO,CAACS,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBX,IAApB,CAAP,CAJU,iJAAH,kBAATQ,CAAAA,SAAS,0CAAf,CASAA,SAAS,GAEZ,CAdQ,CAcP,EAdO,CAAT,CAiBA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAIC,EAAJ,CAAQC,IAAR,CAAiB,CACzCF,CAAC,CAACG,eAAF,GACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBJ,IAAvB,EACH,CAHD,CAKA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACN,EAAD,CAAQ,CAC5BZ,OAAO,CAACmB,IAAR,iBAAsBP,EAAtB,GACH,CAFD,CAOA,mBACI,2BAAK,SAAS,CAAC,YAAf,eACI,0BAAI,KAAK,CAAC,OAAV,yBADJ,cAC+C,yBAAG,KAAK,CAAC,OAAT,6CAD/C,cAEI,6BAAO,SAAS,CAAC,OAAjB,eACI,iCACKd,IAAI,EAAIA,IAAI,CAACsB,IAAL,CAAU,SAACC,CAAD,CAAGC,CAAH,QAASD,CAAAA,CAAC,CAACT,EAAF,CAAOU,CAAC,CAACV,EAAT,CAAc,CAAd,CAAiB,CAAC,CAA3B,EAAV,EAAwCW,GAAxC,CAA4C,SAAAC,GAAG,CAAI,CACxD,mBACY,0BAAI,OAAO,CAAEA,GAAG,CAACC,KAAjB,CAAwB,SAAS,CAAC,KAAlC,CAAuC,OAAO,CAAE,yBAAMP,CAAAA,eAAe,CAACM,GAAG,CAACZ,EAAL,CAArB,EAAhD,CAA+E,GAAG,CAAEY,GAAG,CAACZ,EAAxF,eACI,0BAAI,SAAS,CAAC,WAAd,EAA2BY,GAAG,CAACE,IAA/B,CADJ,cAEI,0BAAI,SAAS,CAAC,WAAd,EAA2BF,GAAG,CAACR,QAA/B,CAFJ,cAGI,0BAAI,SAAS,CAAC,WAAd,EAA2BQ,GAAG,CAACG,WAA/B,CAHJ,cAII,0BAAI,SAAS,CAAC,WAAd,eAA0B,8BAAQ,OAAO,CAAE,iBAAChB,CAAD,QAAOD,CAAAA,mBAAmB,CAACC,CAAD,CAAGa,GAAG,CAACZ,EAAP,CAAUY,GAAG,CAACX,IAAd,CAA1B,EAAjB,CAAgE,SAAS,CAAC,iBAA1E,UAA1B,CAJJ,CADZ,CASH,CAVQ,CADb,CADJ,CAFJ,CADJ,CAoBH,CAtDD,CAwDA,cAAejB,CAAAA,OAAf","sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport JobFinder from \"../apis/JobFinder\"\nimport { JobsContext } from '../context/JobContext'\nimport \"./App.css\";\n\n\nconst JobList = (props) => {\n    \n    const {jobs, setJobs} = useContext(JobsContext)\n    let history = useHistory()\n   \n    useEffect( () => {\n     //window.scrollTo(0, 0)\n     console.log(process.env.NODE_ENV)\n        const fetchData = async () => {\n           \n            try {\n                const response = await JobFinder.get(\"/\");\n                setJobs(response.data.data.jobs)\n             } catch(err){\n     \n             }\n        }\n        fetchData();\n        \n    },[])\n    \n    \n    const handleApplyRedirect = (e, id, link) => {\n        e.stopPropagation()\n        window.location.assign(link);\n    };\n\n    const handleJobSelect = (id) => {\n        history.push(`/jobs/${id}`)\n    };\n\n    \n    \n\n    return (\n        <div className=\"list-group\">\n            <h2 class=\"col-4\">Today's Product Jobs</h2><p class=\"col-4\">(click each row to view job description)</p>\n            <table className=\"table\"> \n                <tbody>\n                    {jobs && jobs.sort((a,b) => a.id < b.id ? 1: -1).map(job => {\n                        return(\n                                    <tr bgcolor={job.color} className=\"p-4\"onClick={() => handleJobSelect(job.id)} key={job.id}>\n                                        <td className=\"pl-5 pr-5\">{job.name}</td>\n                                        <td className=\"pl-5 pr-5\">{job.location}</td>\n                                        <td className=\"pl-5 pr-5\">{job.primary_tag}</td>\n                                        <td className=\"pl-5 pr-5\"><button onClick={(e) => handleApplyRedirect(e,job.id,job.link)} className=\"btn btn-primary\">Apply</button></td>\n                                    </tr>\n                        );\n                        \n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default JobList\n"]},"metadata":{},"sourceType":"module"}