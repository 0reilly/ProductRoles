{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adamoreilly/Desktop/SP2020/yelp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext,useEffect}from'react';import{useHistory}from\"react-router-dom\";import RestaurantFinder from\"../apis/RestaurantFinder\";import{RestaurantsContext}from'../context/RestaurantsContext';var JobList=function JobList(props){var _useContext=useContext(RestaurantsContext),restaurants=_useContext.restaurants,setRestaurants=_useContext.setRestaurants;var history=useHistory();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return RestaurantFinder.get(\"/\");case 3:response=_context.sent;setRestaurants(response.data.data.restaurants);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleApplyRedirect=function handleApplyRedirect(e,id,link){e.stopPropagation();window.location.href=\"\".concat(link);};var handleRestaurantSelect=function handleRestaurantSelect(id){history.push(\"/restaurants/\".concat(id));};return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Today's Product Jobs\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover table-dark\"},/*#__PURE__*/React.createElement(\"tbody\",null,restaurants&&restaurants.map(function(restaurant){return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4s\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"p-4\",onClick:function onClick(){return handleRestaurantSelect(restaurant.id);},key:restaurant.id},/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},restaurant.name),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},restaurant.location),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},\"Primary Tag\"),/*#__PURE__*/React.createElement(\"td\",{className:\"pl-5 pr-5\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleApplyRedirect(e,restaurant.id,restaurant.link);},className:\"btn btn-danger\"},\"Apply\")))));}))));};export default JobList;","map":{"version":3,"sources":["/Users/adamoreilly/Desktop/SP2020/yelp/client/src/components/JobList.jsx"],"names":["React","useContext","useEffect","useHistory","RestaurantFinder","RestaurantsContext","JobList","props","restaurants","setRestaurants","history","fetchData","get","response","data","handleApplyRedirect","e","id","link","stopPropagation","window","location","href","handleRestaurantSelect","push","map","restaurant","name"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,SAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,0BAA7B,CACA,OAASC,kBAAT,KAAmC,+BAAnC,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,iBACeN,UAAU,CAACI,kBAAD,CADzB,CAChBG,WADgB,aAChBA,WADgB,CACHC,cADG,aACHA,cADG,CAEvB,GAAIC,CAAAA,OAAO,CAAGP,UAAU,EAAxB,CACAD,SAAS,CAAE,UAAM,CACb,GAAMS,CAAAA,SAAS,0FAAG,sLAEaP,CAAAA,gBAAgB,CAACQ,GAAjB,CAAqB,GAArB,CAFb,QAEJC,QAFI,eAGVJ,cAAc,CAACI,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBN,WAApB,CAAd,CAHU,iJAAH,kBAATG,CAAAA,SAAS,0CAAf,CAQAA,SAAS,GACZ,CAVQ,CAUP,EAVO,CAAT,CAcA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAIC,EAAJ,CAAQC,IAAR,CAAiB,CACzCF,CAAC,CAACG,eAAF,GACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,WAA0BJ,IAA1B,EACH,CAHD,CAKA,GAAMK,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACN,EAAD,CAAQ,CACnCP,OAAO,CAACc,IAAR,wBAA6BP,EAA7B,GACH,CAFD,CAIA,mBACI,2BAAK,SAAS,CAAC,YAAf,eACI,qDADJ,cAEI,6BAAO,SAAS,CAAC,8BAAjB,eACI,iCACKT,WAAW,EAAIA,WAAW,CAACiB,GAAZ,CAAgB,SAAAC,UAAU,CAAI,CAE1C,mBACI,2BAAK,SAAS,CAAC,EAAf,eACI,2BAAK,SAAS,CAAC,MAAf,eAAsB,0BAAI,SAAS,CAAC,KAAd,CAAmB,OAAO,CAAE,yBAAMH,CAAAA,sBAAsB,CAACG,UAAU,CAACT,EAAZ,CAA5B,EAA5B,CAAyE,GAAG,CAAES,UAAU,CAACT,EAAzF,eAClB,0BAAI,SAAS,CAAC,WAAd,EAA2BS,UAAU,CAACC,IAAtC,CADkB,cAElB,0BAAI,SAAS,CAAC,WAAd,EAA2BD,UAAU,CAACL,QAAtC,CAFkB,cAGlB,0BAAI,SAAS,CAAC,WAAd,gBAHkB,cAIlB,0BAAI,SAAS,CAAC,WAAd,eAA0B,8BAAQ,OAAO,CAAE,iBAACL,CAAD,QAAOD,CAAAA,mBAAmB,CAACC,CAAD,CAAGU,UAAU,CAACT,EAAd,CAAiBS,UAAU,CAACR,IAA5B,CAA1B,EAAjB,CAA8E,SAAS,CAAC,gBAAxF,UAA1B,CAJkB,CAAtB,CADJ,CADJ,CAaH,CAfe,CADpB,CADJ,CAFJ,CADJ,CAyBH,CAnDD,CAqDA,cAAeZ,CAAAA,OAAf","sourcesContent":["import React, {useContext, useEffect} from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport RestaurantFinder from \"../apis/RestaurantFinder\"\nimport { RestaurantsContext } from '../context/RestaurantsContext'\n\nconst JobList = (props) => {\n    const {restaurants, setRestaurants} = useContext(RestaurantsContext)\n    let history = useHistory()\n    useEffect( () => {\n        const fetchData = async () => {\n            try {\n                const response = await RestaurantFinder.get(\"/\");\n                setRestaurants(response.data.data.restaurants)\n             } catch(err){\n     \n             }\n        }\n        fetchData();\n    },[])\n\n    \n\n    const handleApplyRedirect = (e, id, link) => {\n        e.stopPropagation()\n        window.location.href = `${link}`; \n    };\n\n    const handleRestaurantSelect = (id) => {\n        history.push(`/restaurants/${id}`)\n    };\n\n    return (\n        <div className=\"list-group\">\n            <h2>Today's Product Jobs</h2>\n            <table className=\"table table-hover table-dark\"> \n                <tbody>\n                    {restaurants && restaurants.map(restaurant => {\n                        \n                        return(\n                            <div className=\"\">\n                                <div className=\"p-4s\"><tr className=\"p-4\"onClick={() => handleRestaurantSelect(restaurant.id)} key={restaurant.id}>\n                                    <td className=\"pl-5 pr-5\">{restaurant.name}</td>\n                                    <td className=\"pl-5 pr-5\">{restaurant.location}</td>\n                                    <td className=\"pl-5 pr-5\">Primary Tag</td>\n                                    <td className=\"pl-5 pr-5\"><button onClick={(e) => handleApplyRedirect(e,restaurant.id,restaurant.link)} className=\"btn btn-danger\">Apply</button></td>\n                                </tr></div>\n                                \n                            </div>\n                            \n                        );\n                        \n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default JobList\n"]},"metadata":{},"sourceType":"module"}