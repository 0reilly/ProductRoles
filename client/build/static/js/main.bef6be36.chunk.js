(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(64)},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),s=(a(39),a(1)),o=a(9),u=a(33),i=a(2),m=Object(n.createContext)(),p=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(null),o=Object(i.a)(s,2),p=o[0],d=o[1];return r.a.createElement(m.Provider,{value:{restaurants:c,setRestaurants:l,addRestaurants:function(e){l([].concat(Object(u.a)(c),[e]))},selectedRestaurant:p,setSelectedRestaurant:d}},e.children)},d=function(){var e=Object(s.f)();return r.a.createElement("div",null,r.a.createElement("h1",{className:"font-weight-light display-1 text-center"},"Product Roles ",r.a.createElement("button",{onClick:function(t){e.push("/add-job")},className:"btn btn-warning"},"Post a job")))},b=a(4),E=a.n(b),f=a(10),v=a(31),N=a.n(v).a.create({baseURL:"https://productroles.herokuapp.com/api/v1/restaurants"}),O=function(e){var t=Object(n.useContext)(m),a=t.restaurants,c=t.setRestaurants,l=Object(s.f)();Object(n.useEffect)((function(){(function(){var e=Object(f.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/");case 3:t=e.sent,c(t.data.data.restaurants),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement("div",{className:"list-group"},r.a.createElement("h2",null,"Today's Product Jobs"),r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("tbody",null,a&&a.map((function(e){return r.a.createElement("div",{className:""},r.a.createElement("div",{className:"p-4s"},r.a.createElement("tr",{className:"p-4",onClick:function(){return t=e.id,void l.push("/restaurants/".concat(t));var t},key:e.id},r.a.createElement("td",{className:"pl-5 pr-5"},e.name),r.a.createElement("td",{className:"pl-5 pr-5"},e.location),r.a.createElement("td",{className:"pl-5 pr-5"},"Primary Tag"),r.a.createElement("td",{className:"pl-5 pr-5"},r.a.createElement("button",{onClick:function(t){return function(e,t,a){e.stopPropagation(),window.location.href="".concat(a)}(t,e.id,e.link)},className:"btn btn-danger"},"Apply")))))})))))},h=function(){return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(O,null))},j=a(32),g=a(12),y=(a(63),function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),u=Object(i.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(""),b=Object(i.a)(d,2),v=b[0],N=b[1],O=Object(n.useState)(!0),h=Object(i.a)(O,2),j=h[0],y=h[1],x=Object(n.useState)(""),k=Object(i.a)(x,2),C=k[0],P=k[1],S=Object(g.useStripe)(),w=Object(g.useElements)(),A=Object(s.f)();Object(n.useEffect)((function(){window.fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:"basic-job-post"}]})}).then((function(e){return e.json()})).then((function(e){P(e.clientSecret)}))}),[]);var I=function(){var e=Object(f.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t.empty),p(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.next=4,S.confirmCardPayment(C,{payment_method:{card:w.getElement(g.CardElement)}});case 4:(a=e.sent).error?(p("Payment failed ".concat(a.error.message)),N(!1)):(p(null),N(!1),l(!0),L());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){e.form()};return r.a.createElement("form",{id:"payment-form",onSubmit:R},r.a.createElement(g.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:I}),r.a.createElement("div",{className:"p-4"},r.a.createElement("button",{disabled:v||j||c,className:" btn btn-primary"},r.a.createElement("span",{id:"button-text"},v?r.a.createElement("div",{className:"spinner",id:"spinner"}):"Post Job Ad - $"))),m&&r.a.createElement("div",{className:"card-error",role:"alert"},m),r.a.createElement("p",{className:c?"result-message":"result-message hidden"},"Payment succeeded! View your new listing on the Home page!",r.a.createElement("button",{className:"btn btn-primary",onClick:function(){A.push("/")}},"Home.")," An order summary will be emailed to you."))}),x=function(){var e=Object(n.useState)((function(){return Object(j.a)("pk_test_51HX92ADV5bqQz6pNUHpNfJziKCFf5lOBPO6A30apaEDI0Yb0jvwOmQCcebkay4TIcs2JIsrNxQs9vN8NImlsaevO0030bqBsJQ")})),t=Object(i.a)(e,2),a=t[0],c=(t[1],Object(s.f)(),Object(n.useContext)(m).addRestaurants),l=Object(n.useState)(""),o=Object(i.a)(l,2),u=o[0],p=o[1],d=Object(n.useState)(""),b=Object(i.a)(d,2),v=b[0],O=b[1],h=Object(n.useState)("Primary Tag"),x=Object(i.a)(h,2),k=x[0],C=x[1],P=Object(n.useState)(""),S=Object(i.a)(P,2),w=S[0],A=S[1],I=Object(n.useState)(""),R=Object(i.a)(I,2),L=R[0],T=R[1],M=Object(n.useState)(""),J=Object(i.a)(M,2),D=J[0],H=J[1],Y=Object(n.useState)(""),z=Object(i.a)(Y,2),B=z[0],F=z[1],Q=Object(n.useState)(""),U=Object(i.a)(Q,2),_=U[0],q=U[1],G=Object(n.useState)(""),V=Object(i.a)(G,2),W=(V[0],V[1],Object(n.useState)({showLogo:{select:!0,price:49},applicantMatch:{select:!0,price:0},autoRenew:{select:!0,price:0},highlight:{select:!1,price:224},brandColor:{select:!1,color:"#ff4742",price:599},stickyPostDay:{select:!1,price:147},stickyPostWeek:{select:!1,price:299},stickyPostMonth:{select:!1,price:897}})),K=Object(i.a)(W,2),X=(K[0],K[1],function(){var e=Object(f.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in form"),e.prev=1,e.next=4,N.post("/",{name:u,location:w,primary_tag:k,description:D,link:_});case 4:t=e.sent,c(t.data.data.restaurant),console.log("added to database"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}());return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-row justify-content-center mb-4 pt-5"},r.a.createElement("form",{action:""},r.a.createElement("div",{className:"p-4"},r.a.createElement("h4",{className:"text-center"},"Let's Start"),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",{className:"head"},"COMPANY NAME"),r.a.createElement("input",{value:u,onChange:function(e){return p(e.target.value)},type:"text",className:"form-control"})),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",null,"POSITION"),r.a.createElement("input",{value:v,onChange:function(e){return O(e.target.value)},className:"form-control",type:"text"})),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",null,"LOCATION"),r.a.createElement("input",{value:w,onChange:function(e){return A(e.target.value)},className:"form-control",type:"text"})),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",null,"PRIMARY TAG"),r.a.createElement("select",{value:k,onChange:function(e){return C(e.target.value)},className:"custom-select my-1 mr-sm-2"},r.a.createElement("option",{disabled:!0},"Select a primary tag"),r.a.createElement("option",{value:"1"},"Product Manager"),r.a.createElement("option",{value:"2"},"Product Designer"),r.a.createElement("option",{value:"3"},"Product Marketing Manager"),r.a.createElement("option",{value:"4"},"Product Owner"))),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",null,"DESCRIPTION"),r.a.createElement("textarea",{value:D,onChange:function(e){return H(e.target.value)},className:"form-control",type:"text"})),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",null,"APPLY URL"),r.a.createElement("input",{value:_,onChange:function(e){return q(e.target.value)},className:"form-control",type:"text"})),r.a.createElement("div",{className:"pt-4"},r.a.createElement("h4",{className:"text-center"},"Finalize Listing"),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",null,"COMPANY EMAIL"),r.a.createElement("input",{value:L,onChange:function(e){return T(e.target.value)},className:"form-control",type:"text"})),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement("span",null,"FULL BILLING DETAILS"),r.a.createElement("textarea",{value:B,onChange:function(e){return F(e.target.value)},className:"form-control",type:"text",placehold:"e.g. your company's full name and full invoice address, including building, street, city, and country"})),r.a.createElement("div",{className:"p-4"},r.a.createElement(g.Elements,{stripe:a},r.a.createElement(y,{form:X}))))))))},k=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Hire Product Roles"),r.a.createElement(x,null))},C=function(e){var t=Object(n.useContext)(m),a=t.restaurants,c=t.setRestaurants,l=Object(s.g)().id,o=Object(s.f)();Object(n.useEffect)((function(){(function(){var e=Object(f.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/");case 3:t=e.sent,c(t.data.data.restaurants),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(e,t){e.stopPropagation(),window.location.href="https://jobs.chipotle.com/"},i=function(e){o.push("")};return r.a.createElement("div",{className:"list-group"},r.a.createElement("h2",null,"Today's Product Jobs"),r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("tbody",null,a&&a.map((function(e){return e.id===l?r.a.createElement("div",{className:""},r.a.createElement("div",{className:"p-4s"},r.a.createElement("tr",{className:"p-4",onClick:function(){return i(e.id)},key:e.id},r.a.createElement("td",{className:"pl-5 pr-5"},e.name),r.a.createElement("td",{className:"pl-5 pr-5"},e.location),r.a.createElement("td",{className:"pl-5 pr-5"},"Primary Tag"),r.a.createElement("td",{className:"pl-5 pr-5"},r.a.createElement("button",{onClick:function(t){return u(t,e.id)},className:"btn btn-danger"},"Apply")))),r.a.createElement("tr",null,r.a.createElement("div",{className:"p-5"},r.a.createElement("p",null,e.description)))):r.a.createElement("div",{className:""},r.a.createElement("div",{className:"p-4s"},r.a.createElement("tr",{className:"p-4",onClick:function(){return i(e.id)},key:e.id},r.a.createElement("td",{className:"pl-5 pr-5"},e.name),r.a.createElement("td",{className:"pl-5 pr-5"},e.location),r.a.createElement("td",{className:"pl-5 pr-5"},"Primary Tag"),r.a.createElement("td",{className:"pl-5 pr-5"},r.a.createElement("button",{onClick:function(t){return u(t,e.id)},className:"btn btn-danger"},"Apply")))))})))))},P=function(){return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(C,null))},S=function(){var e=Object(s.f)();return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement("h4",null,"Listing complete! Please return to the home page to see your NEW listing!"),r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:function(){e.push("/")}}," Home "))},w=function(){return r.a.createElement("div",null,r.a.createElement(p,null,r.a.createElement("div",{className:"container"},r.a.createElement(o.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:h}),r.a.createElement(s.a,{exact:!0,path:"/add-job",component:k}),r.a.createElement(s.a,{exact:!0,path:"/restaurants/:id",component:P}),r.a.createElement(s.a,{exact:!0,path:"/success",component:S}))))))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.bef6be36.chunk.js.map